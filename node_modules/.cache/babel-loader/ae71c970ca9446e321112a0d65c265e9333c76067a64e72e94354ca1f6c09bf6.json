{"ast":null,"code":"import{createSlice,createAsyncThunk}from\"@reduxjs/toolkit\";import uploadService from\"./uploadService\";export const uploadImg=createAsyncThunk(\"upload/images\",async(data,thunkAPI)=>{try{const formData=new FormData();for(let i=0;i<data.length;i++){formData.append(\"images\",data[i]);}return await uploadService.uploadImg(formData);}catch(error){return thunkAPI.rejectWithValue(error);}});export const delImg=createAsyncThunk(\"delete/images\",async(id,thunkAPI)=>{try{return await uploadService.deleteImg(id);}catch(error){return thunkAPI.rejectWithValue(error);}});const initialState={images:[],isError:false,isLoading:false,isSuccess:false,message:\"\"};export const uploadSlice=createSlice({name:\"images\",initialState,reducers:{},extraReducers:builder=>{builder.addCase(uploadImg.pending,state=>{state.isLoading=true;}).addCase(uploadImg.fulfilled,(state,action)=>{state.isLoading=false;state.isError=false;state.isSuccess=true;state.images=action.payload;}).addCase(uploadImg.rejected,(state,action)=>{state.isLoading=false;state.isError=true;state.isSuccess=false;state.message=action.error;}).addCase(delImg.pending,state=>{state.isLoading=true;}).addCase(delImg.fulfilled,(state,action)=>{state.isLoading=false;state.isError=false;state.isSuccess=true;state.images=[];}).addCase(delImg.rejected,(state,action)=>{state.isLoading=false;state.isError=true;state.isSuccess=false;state.message=action.payload;});}});export default uploadSlice.reducer;","map":{"version":3,"names":["createSlice","createAsyncThunk","uploadService","uploadImg","data","thunkAPI","formData","FormData","i","length","append","error","rejectWithValue","delImg","id","deleteImg","initialState","images","isError","isLoading","isSuccess","message","uploadSlice","name","reducers","extraReducers","builder","addCase","pending","state","fulfilled","action","payload","rejected","reducer"],"sources":["/Users/shashiojha/Documents/pansari-ecom/admin-panel/admin-multipurpose-dashboard/src/features/upload/uploadSlice.js"],"sourcesContent":["import { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\nimport uploadService from \"./uploadService\";\n\nexport const uploadImg = createAsyncThunk(\n  \"upload/images\",\n  async (data, thunkAPI) => {\n    try {\n      const formData = new FormData();\n      for (let i = 0; i < data.length; i++) {\n        formData.append(\"images\", data[i]);\n      }\n      return await uploadService.uploadImg(formData);\n    } catch (error) {\n      return thunkAPI.rejectWithValue(error);\n    }\n  }\n);\nexport const delImg = createAsyncThunk(\n  \"delete/images\",\n  async (id, thunkAPI) => {\n    try {\n      return await uploadService.deleteImg(id);\n    } catch (error) {\n      return thunkAPI.rejectWithValue(error);\n    }\n  }\n);\nconst initialState = {\n  images: [],\n  isError: false,\n  isLoading: false,\n  isSuccess: false,\n  message: \"\",\n};\nexport const uploadSlice = createSlice({\n  name: \"images\",\n  initialState,\n  reducers: {},\n  extraReducers: (builder) => {\n    builder\n      .addCase(uploadImg.pending, (state) => {\n        state.isLoading = true;\n      })\n      .addCase(uploadImg.fulfilled, (state, action) => {\n        state.isLoading = false;\n        state.isError = false;\n        state.isSuccess = true;\n        state.images = action.payload;\n      })\n      .addCase(uploadImg.rejected, (state, action) => {\n        state.isLoading = false;\n        state.isError = true;\n        state.isSuccess = false;\n        state.message = action.error;\n      })\n      .addCase(delImg.pending, (state) => {\n        state.isLoading = true;\n      })\n      .addCase(delImg.fulfilled, (state, action) => {\n        state.isLoading = false;\n        state.isError = false;\n        state.isSuccess = true;\n        state.images = [];\n      })\n      .addCase(delImg.rejected, (state, action) => {\n        state.isLoading = false;\n        state.isError = true;\n        state.isSuccess = false;\n        state.message = action.payload;\n      });\n  },\n});\nexport default uploadSlice.reducer;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}