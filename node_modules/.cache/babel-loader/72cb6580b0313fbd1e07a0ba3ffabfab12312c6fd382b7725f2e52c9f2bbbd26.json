{"ast":null,"code":"import React,{useEffect}from'react';import Bredcrumb from'src/components/core/Bredcrumb';import{useDispatch,useSelector}from\"react-redux\";import{useLocation,useNavigate}from\"react-router-dom\";import{toast}from\"react-toastify\";import*as yup from\"yup\";import{useFormik}from\"formik\";import{createCategory,getAProductCategory,resetState,updateAProductCategory}from'src/features/pcategory/categorySlice';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";let schema=yup.object().shape({title:yup.string().required(\"Category Name is Required\")});const AddCatagory=()=>{const dispatch=useDispatch();const location=useLocation();const getPCatId=location.pathname.split(\"/\")[4];console.log(location.pathname);const navigate=useNavigate();const newCategory=useSelector(state=>state.categories);const{isSuccess,isError,isLoading,createdCategory,categoryName,updatedCategory}=newCategory;useEffect(()=>{if(getPCatId!==undefined){dispatch(getAProductCategory(getPCatId));}else{dispatch(resetState());}},[getPCatId]);useEffect(()=>{if(isSuccess&&createdCategory){toast.success(\"Category Added Successfully!\");}if(isSuccess&&updatedCategory){toast.success(\"Category Updated Successfullly!\");navigate(\"/admin/mera-bazzar/categories\");}if(isError){toast.error(\"Something Went Wrong!\");}},[isSuccess,isError,isLoading]);const formik=useFormik({enableReinitialize:true,initialValues:{title:categoryName||\"\"},validationSchema:schema,onSubmit:values=>{if(getPCatId!==undefined){const data={id:getPCatId,pCatData:values};dispatch(updateAProductCategory(data));dispatch(resetState());}else{dispatch(createCategory(values));formik.resetForm();setTimeout(()=>{dispatch(resetState());},300);}}});return/*#__PURE__*/_jsx(\"div\",{class:\"content\",children:/*#__PURE__*/_jsxs(\"div\",{class:\"container-fluid\",children:[/*#__PURE__*/_jsx(Bredcrumb,{title:\"\".concat(getPCatId!==undefined?\"Edit\":\"Add\",\" Category\")}),/*#__PURE__*/_jsx(\"div\",{class:\"row\",children:/*#__PURE__*/_jsx(\"div\",{class:\"col-lg-12\",children:/*#__PURE__*/_jsx(\"div\",{class:\"card\",children:/*#__PURE__*/_jsx(\"div\",{class:\"card-body\",children:/*#__PURE__*/_jsxs(\"form\",{action:\"\",onSubmit:formik.handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{class:\"form-group\",children:[/*#__PURE__*/_jsxs(\"label\",{for:\"catName\",children:[\"Category Name \",/*#__PURE__*/_jsx(\"span\",{class:\"text-danger\",children:\"*\"})]}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"catName\",name:\"title\",class:\"form-control\",placeholder:\"Enter Category Name\",onChange:formik.handleChange(\"title\"),onBlur:formik.handleBlur(\"title\"),value:formik.values.title}),formik.touched.title&&formik.errors.title?/*#__PURE__*/_jsx(\"small\",{id:\"emailHelp\",class:\"form-text text-danger\",children:formik.errors.title}):null]}),/*#__PURE__*/_jsxs(\"div\",{class:\"col-12 text-center\",children:[/*#__PURE__*/_jsxs(\"button\",{type:\"submit\",class:\"btn btn-success waves-effect waves-light m-1\",children:[/*#__PURE__*/_jsx(\"i\",{class:\"fe-check-circle mr-1\"}),\" \",getPCatId!==undefined?\"Edit\":\"Add\",\" Category\"]}),/*#__PURE__*/_jsxs(\"button\",{type:\"button\",class:\"btn btn-light waves-effect waves-light m-1\",children:[/*#__PURE__*/_jsx(\"i\",{class:\"fe-x mr-1\"}),\" Cancel\"]})]})]})})})})})]})});};export default AddCatagory;","map":{"version":3,"names":["React","useEffect","Bredcrumb","useDispatch","useSelector","useLocation","useNavigate","toast","yup","useFormik","createCategory","getAProductCategory","resetState","updateAProductCategory","jsx","_jsx","jsxs","_jsxs","schema","object","shape","title","string","required","AddCatagory","dispatch","location","getPCatId","pathname","split","console","log","navigate","newCategory","state","categories","isSuccess","isError","isLoading","createdCategory","categoryName","updatedCategory","undefined","success","error","formik","enableReinitialize","initialValues","validationSchema","onSubmit","values","data","id","pCatData","resetForm","setTimeout","class","children","concat","action","handleSubmit","for","type","name","placeholder","onChange","handleChange","onBlur","handleBlur","value","touched","errors"],"sources":["/Users/shashiojha/Documents/pansari-ecom/admin-panel/admin-multipurpose-dashboard/src/pages/ecommerce/categories/addCatagory.jsx"],"sourcesContent":["import React, { useEffect } from 'react'\nimport Bredcrumb from 'src/components/core/Bredcrumb'\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useLocation, useNavigate } from \"react-router-dom\";\nimport { toast } from \"react-toastify\";\nimport * as yup from \"yup\";\nimport { useFormik } from \"formik\";\nimport { createCategory, getAProductCategory, resetState, updateAProductCategory } from 'src/features/pcategory/categorySlice';\n\nlet schema = yup.object().shape({\n    title: yup.string().required(\"Category Name is Required\"),\n    });\n\nconst AddCatagory = () => {\n\n  const dispatch = useDispatch();\n  const location = useLocation();\n  const getPCatId = location.pathname.split(\"/\")[4];\n  console.log(location.pathname);\n  const navigate = useNavigate();\n  const newCategory = useSelector((state) => state.categories);\n  const {\n    isSuccess,\n    isError,\n    isLoading,\n    createdCategory,\n    categoryName,\n    updatedCategory,\n  } = newCategory;\n\n  useEffect(() => {\n    if (getPCatId !== undefined) {\n      dispatch(getAProductCategory(getPCatId));\n    } else {\n      dispatch(resetState());\n    }\n  }, [getPCatId]);\n\n  useEffect(() => {\n    if (isSuccess && createdCategory) {\n      toast.success(\"Category Added Successfully!\");\n    }\n    if (isSuccess && updatedCategory) {\n      toast.success(\"Category Updated Successfullly!\");\n      navigate(\"/admin/mera-bazzar/categories\");\n    }\n    if (isError) {\n      toast.error(\"Something Went Wrong!\");\n    }\n  }, [isSuccess, isError, isLoading]);\n\n  const formik = useFormik({\n    enableReinitialize: true,\n    initialValues: {\n      title: categoryName || \"\",\n    },\n    validationSchema: schema,\n    onSubmit: (values) => {\n      if (getPCatId !== undefined) {\n        const data = { id: getPCatId, pCatData: values };\n        dispatch(updateAProductCategory(data));\n        dispatch(resetState());\n      } else {\n        dispatch(createCategory(values));\n        formik.resetForm();\n        setTimeout(() => {\n          dispatch(resetState());\n        }, 300);\n      }\n    }\n  })\n\n  return (\n    <div class=\"content\">\n        <div class=\"container-fluid\">\n            \n            <Bredcrumb title={`${getPCatId !== undefined ? \"Edit\" : \"Add\"} Category`}/>\n\n            <div class=\"row\">\n            <div class=\"col-lg-12\">\n                <div class=\"card\">\n                    <div class=\"card-body\">\n                        <form action=\"\" onSubmit={formik.handleSubmit}>\n                            <div class=\"form-group\">\n                                <label for=\"catName\">Category Name <span class=\"text-danger\">*</span></label>\n                                <input\n                                    type=\"text\"\n                                    id=\"catName\"\n                                    name='title'\n                                    class=\"form-control\"\n                                    placeholder=\"Enter Category Name\"\n                                    onChange={formik.handleChange(\"title\")}\n                                    onBlur={formik.handleBlur(\"title\")}\n                                    value={formik.values.title}\n                                />\n                                {formik.touched.title && formik.errors.title ? (\n                                    <small id=\"emailHelp\" class=\"form-text text-danger\">{formik.errors.title}</small>\n                                ): null}\n                            </div>\n                            \n                            <div class=\"col-12 text-center\">\n                                <button type=\"submit\" class=\"btn btn-success waves-effect waves-light m-1\"><i class=\"fe-check-circle mr-1\"></i> {getPCatId !== undefined ? \"Edit\" : \"Add\"} Category</button>\n                                <button type=\"button\" class=\"btn btn-light waves-effect waves-light m-1\"><i class=\"fe-x mr-1\"></i> Cancel</button>\n                            </div>\n                        </form>\n\n                    </div>\n                </div>\n            </div>\n            </div>\n            \n        </div> \n    </div>\n  )\n}\n\nexport default AddCatagory"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}