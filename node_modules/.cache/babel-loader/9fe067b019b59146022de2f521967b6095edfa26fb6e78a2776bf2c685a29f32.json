{"ast":null,"code":"import React,{useEffect}from'react';import Bredcrumb from'src/components/core/Bredcrumb';import{useDispatch,useSelector}from\"react-redux\";import{useLocation,useNavigate}from\"react-router-dom\";import{toast}from\"react-toastify\";import*as yup from\"yup\";import{useFormik}from\"formik\";import{createNewblogCat,getABlogCat,resetState,updateABlogCat}from'src/features/bcategory/bCategorySlice';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";let schema=yup.object().shape({title:yup.string().required(\"Category Name is Required\")});const AddBlogCatagory=()=>{const dispatch=useDispatch();const location=useLocation();const navigate=useNavigate();const getBlogCatId=location.pathname.split(\"/\")[4];const newBlogCategory=useSelector(state=>state.blogCategories);const{isSuccess,isError,isLoading,createBlogCategory,blogCatName,updatedBlogCategory}=newBlogCategory;useEffect(()=>{if(getBlogCatId!==undefined){dispatch(getABlogCat(getBlogCatId));}else{dispatch(resetState());}},[getBlogCatId]);useEffect(()=>{if(isSuccess&&createBlogCategory){toast.success(\"Category Added Successfullly!\");}if(isSuccess&&updatedBlogCategory){toast.success(\"Blog Category Updated Successfullly!\");navigate(\"/admin/blog/blog-categories\");}if(isError){toast.error(\"Something Went Wrong!\");}},[isSuccess,isError,isLoading]);const formik=useFormik({enableReinitialize:true,initialValues:{title:blogCatName||\"\"},validationSchema:schema,onSubmit:values=>{const data={id:getBlogCatId,blogCatData:values};if(getBlogCatId!==undefined){dispatch(updateABlogCat(data));dispatch(resetState());}else{dispatch(createNewblogCat(values));formik.resetForm();setTimeout(()=>{dispatch(resetState());},300);}}});return/*#__PURE__*/_jsx(\"div\",{class:\"content\",children:/*#__PURE__*/_jsxs(\"div\",{class:\"container-fluid\",children:[/*#__PURE__*/_jsx(Bredcrumb,{title:\"\".concat(getBlogCatId!==undefined?\"Edit\":\"Add\",\" Blog Category\")}),/*#__PURE__*/_jsx(\"div\",{class:\"row\",children:/*#__PURE__*/_jsx(\"div\",{class:\"col-lg-12\",children:/*#__PURE__*/_jsx(\"div\",{class:\"card\",children:/*#__PURE__*/_jsx(\"div\",{class:\"card-body\",children:/*#__PURE__*/_jsxs(\"form\",{action:\"\",onSubmit:formik.handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{class:\"form-group\",children:[/*#__PURE__*/_jsxs(\"label\",{for:\"catName\",children:[\"Category Name \",/*#__PURE__*/_jsx(\"span\",{class:\"text-danger\",children:\"*\"})]}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"catName\",name:\"title\",class:\"form-control\",placeholder:\"Enter Category Name\",onChange:formik.handleChange(\"title\"),onBlur:formik.handleBlur(\"title\"),value:formik.values.title}),formik.touched.title&&formik.errors.title?/*#__PURE__*/_jsx(\"small\",{id:\"emailHelp\",class:\"form-text text-danger\",children:formik.errors.title}):null]}),/*#__PURE__*/_jsxs(\"div\",{class:\"col-12 text-center\",children:[/*#__PURE__*/_jsxs(\"button\",{type:\"submit\",class:\"btn btn-success waves-effect waves-light m-1\",children:[/*#__PURE__*/_jsx(\"i\",{class:\"fe-check-circle mr-1\"}),\" \",getBlogCatId!==undefined?\"Edit\":\"Add\",\" Category\"]}),/*#__PURE__*/_jsxs(\"button\",{type:\"button\",class:\"btn btn-light waves-effect waves-light m-1\",children:[/*#__PURE__*/_jsx(\"i\",{class:\"fe-x mr-1\"}),\" Cancel\"]})]})]})})})})})]})});};export default AddBlogCatagory;","map":{"version":3,"names":["React","useEffect","Bredcrumb","useDispatch","useSelector","useLocation","useNavigate","toast","yup","useFormik","createNewblogCat","getABlogCat","resetState","updateABlogCat","jsx","_jsx","jsxs","_jsxs","schema","object","shape","title","string","required","AddBlogCatagory","dispatch","location","navigate","getBlogCatId","pathname","split","newBlogCategory","state","blogCategories","isSuccess","isError","isLoading","createBlogCategory","blogCatName","updatedBlogCategory","undefined","success","error","formik","enableReinitialize","initialValues","validationSchema","onSubmit","values","data","id","blogCatData","resetForm","setTimeout","class","children","concat","action","handleSubmit","for","type","name","placeholder","onChange","handleChange","onBlur","handleBlur","value","touched","errors"],"sources":["/Users/shashiojha/Documents/pansari-ecom/admin-panel/admin-multipurpose-dashboard/src/pages/blogs/category/addBlogCatagory.jsx"],"sourcesContent":["import React, { useEffect } from 'react'\nimport Bredcrumb from 'src/components/core/Bredcrumb'\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useLocation, useNavigate } from \"react-router-dom\";\nimport { toast } from \"react-toastify\";\nimport * as yup from \"yup\";\nimport { useFormik } from \"formik\";\nimport { createNewblogCat, getABlogCat, resetState, updateABlogCat } from 'src/features/bcategory/bCategorySlice';\n\nlet schema = yup.object().shape({\n    title: yup.string().required(\"Category Name is Required\"),\n    });\n\nconst AddBlogCatagory = () => {\n\n  const dispatch = useDispatch();\n  const location = useLocation();\n  const navigate = useNavigate();\n  const getBlogCatId = location.pathname.split(\"/\")[4];\n  const newBlogCategory = useSelector((state) => state.blogCategories);\n  const {\n    isSuccess,\n    isError,\n    isLoading,\n    createBlogCategory,\n    blogCatName,\n    updatedBlogCategory,\n  } = newBlogCategory;\n\n  useEffect(() => {\n    if (getBlogCatId !== undefined) {\n      dispatch(getABlogCat(getBlogCatId));\n    } else {\n      dispatch(resetState());\n    }\n  }, [getBlogCatId]);\n\n  useEffect(() => {\n    if (isSuccess && createBlogCategory) {\n      toast.success(\"Category Added Successfullly!\");\n    }\n    if (isSuccess && updatedBlogCategory) {\n      toast.success(\"Blog Category Updated Successfullly!\");\n      navigate(\"/admin/blog/blog-categories\");\n    }\n    if (isError) {\n      toast.error(\"Something Went Wrong!\");\n    }\n  }, [isSuccess, isError, isLoading]);\n\n  const formik = useFormik({\n    enableReinitialize: true,\n    initialValues: {\n      title: blogCatName || \"\",\n    },\n    validationSchema: schema,\n    onSubmit: (values) => {\n      const data = { id: getBlogCatId, blogCatData: values };\n      if (getBlogCatId !== undefined) {\n        dispatch(updateABlogCat(data));\n        dispatch(resetState());\n      } else {\n        dispatch(createNewblogCat(values));\n        formik.resetForm();\n        setTimeout(() => {\n          dispatch(resetState());\n        }, 300);\n      }\n    }\n  })\n\n  return (\n    <div class=\"content\">\n        <div class=\"container-fluid\">\n            \n            <Bredcrumb title={`${getBlogCatId !== undefined ? \"Edit\" : \"Add\"} Blog Category`}/>\n\n            <div class=\"row\">\n            <div class=\"col-lg-12\">\n                <div class=\"card\">\n                    <div class=\"card-body\">\n                        <form action=\"\" onSubmit={formik.handleSubmit}>\n                            <div class=\"form-group\">\n                                <label for=\"catName\">Category Name <span class=\"text-danger\">*</span></label>\n                                <input\n                                    type=\"text\"\n                                    id=\"catName\"\n                                    name='title'\n                                    class=\"form-control\"\n                                    placeholder=\"Enter Category Name\"\n                                    onChange={formik.handleChange(\"title\")}\n                                    onBlur={formik.handleBlur(\"title\")}\n                                    value={formik.values.title}\n                                />\n                                {formik.touched.title && formik.errors.title ? (\n                                    <small id=\"emailHelp\" class=\"form-text text-danger\">{formik.errors.title}</small>\n                                ): null}\n                            </div>\n                            \n                            <div class=\"col-12 text-center\">\n                                <button type=\"submit\" class=\"btn btn-success waves-effect waves-light m-1\"><i class=\"fe-check-circle mr-1\"></i> {getBlogCatId !== undefined ? \"Edit\" : \"Add\"} Category</button>\n                                <button type=\"button\" class=\"btn btn-light waves-effect waves-light m-1\"><i class=\"fe-x mr-1\"></i> Cancel</button>\n                            </div>\n                        </form>\n\n                    </div>\n                </div>\n            </div>\n            </div>\n            \n        </div> \n    </div>\n  )\n}\n\nexport default AddBlogCatagory"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}