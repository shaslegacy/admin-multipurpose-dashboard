{"ast":null,"code":"import React,{useEffect}from'react';import Bredcrumb from'src/components/core/Bredcrumb';import{useDispatch,useSelector}from\"react-redux\";import{useLocation,useNavigate}from\"react-router-dom\";import{toast}from\"react-toastify\";import*as yup from\"yup\";import{useFormik}from\"formik\";import{createColor,getAColor,resetState,updateAColor}from'src/features/color/colorSlice';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";let schema=yup.object().shape({title:yup.string().required(\"Color Name is Required\")});const AddColor=()=>{const dispatch=useDispatch();const navigate=useNavigate();const location=useLocation();const getColorId=location.pathname.split(\"/\")[4];const newColor=useSelector(state=>state.colors);const{isSuccess,isError,isLoading,createdColor,updatedColor,colorName}=newColor;useEffect(()=>{if(getColorId!==undefined){dispatch(getAColor(getColorId));}else{dispatch(resetState());}},[getColorId]);useEffect(()=>{if(isSuccess&&createdColor){toast.success(\"Color Added Successfully!\");}if(isSuccess&&updatedColor){toast.success(\"Color Updated Successfullly!\");navigate(\"/admin/mera-bazzar/colors\");}if(isError){toast.error(\"Something Went Wrong!\");}},[isSuccess,isError,isLoading]);const formik=useFormik({enableReinitialize:true,initialValues:{title:colorName||\"\"},validationSchema:schema,onSubmit:values=>{if(getColorId!==undefined){const data={id:getColorId,colorData:values};dispatch(updateAColor(data));dispatch(resetState());}else{dispatch(createColor(values));formik.resetForm();setTimeout(()=>{dispatch(resetState());},300);}}});return/*#__PURE__*/_jsx(\"div\",{class:\"content\",children:/*#__PURE__*/_jsxs(\"div\",{class:\"container-fluid\",children:[/*#__PURE__*/_jsx(Bredcrumb,{title:\"\".concat(getColorId!==undefined?\"Edit\":\"Add\",\" Color\")}),/*#__PURE__*/_jsx(\"div\",{class:\"row\",children:/*#__PURE__*/_jsx(\"div\",{class:\"col-lg-12\",children:/*#__PURE__*/_jsx(\"div\",{class:\"card\",children:/*#__PURE__*/_jsx(\"div\",{class:\"card-body\",children:/*#__PURE__*/_jsxs(\"form\",{action:\"\",onSubmit:formik.handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{class:\"form-group\",children:[/*#__PURE__*/_jsxs(\"label\",{for:\"colorName\",children:[\"Color Name \",/*#__PURE__*/_jsx(\"span\",{class:\"text-danger\",children:\"*\"})]}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"colorName\",name:\"title\",class:\"form-control\",placeholder:\"Enter Color Name\",onChange:formik.handleChange(\"title\"),onBlur:formik.handleBlur(\"title\"),value:formik.values.title}),formik.touched.title&&formik.errors.title?/*#__PURE__*/_jsx(\"small\",{id:\"emailHelp\",class:\"form-text text-danger\",children:formik.errors.title}):null]}),/*#__PURE__*/_jsxs(\"div\",{class:\"col-12 text-center\",children:[/*#__PURE__*/_jsxs(\"button\",{type:\"submit\",class:\"btn btn-success waves-effect waves-light m-1\",children:[/*#__PURE__*/_jsx(\"i\",{class:\"fe-check-circle mr-1\"}),\" \",getColorId!==undefined?\"Edit\":\"Add\",\" Color\"]}),/*#__PURE__*/_jsxs(\"button\",{type:\"button\",class:\"btn btn-light waves-effect waves-light m-1\",children:[/*#__PURE__*/_jsx(\"i\",{class:\"fe-x mr-1\"}),\" Cancel\"]})]})]})})})})})]})});};export default AddColor;","map":{"version":3,"names":["React","useEffect","Bredcrumb","useDispatch","useSelector","useLocation","useNavigate","toast","yup","useFormik","createColor","getAColor","resetState","updateAColor","jsx","_jsx","jsxs","_jsxs","schema","object","shape","title","string","required","AddColor","dispatch","navigate","location","getColorId","pathname","split","newColor","state","colors","isSuccess","isError","isLoading","createdColor","updatedColor","colorName","undefined","success","error","formik","enableReinitialize","initialValues","validationSchema","onSubmit","values","data","id","colorData","resetForm","setTimeout","class","children","concat","action","handleSubmit","for","type","name","placeholder","onChange","handleChange","onBlur","handleBlur","value","touched","errors"],"sources":["/Users/shashiojha/Documents/pansari-ecom/admin-panel/admin-multipurpose-dashboard/src/pages/ecommerce/colors/addColor.jsx"],"sourcesContent":["import React, { useEffect } from 'react'\nimport Bredcrumb from 'src/components/core/Bredcrumb'\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useLocation, useNavigate } from \"react-router-dom\";\nimport { toast } from \"react-toastify\";\nimport * as yup from \"yup\";\nimport { useFormik } from \"formik\";\nimport { createColor,\n        getAColor,\n        resetState,\n        updateAColor\n      } from 'src/features/color/colorSlice';\n\nlet schema = yup.object().shape({\n    title: yup.string().required(\"Color Name is Required\"),\n    });\n\nconst AddColor = () => {\n\n  const dispatch = useDispatch();\n  const navigate = useNavigate();\n  const location = useLocation();\n  const getColorId = location.pathname.split(\"/\")[4];\n  const newColor = useSelector((state) => state.colors);\n  const {\n    isSuccess,\n    isError,\n    isLoading,\n    createdColor,\n    updatedColor,\n    colorName,\n  } = newColor;\n\n  useEffect(() => {\n    if (getColorId !== undefined) {\n      dispatch(getAColor(getColorId));\n    } else {\n      dispatch(resetState());\n    }\n  }, [getColorId]);\n\n  useEffect(() => {\n    if (isSuccess && createdColor) {\n      toast.success(\"Color Added Successfully!\");\n    }\n    if (isSuccess && updatedColor) {\n      toast.success(\"Color Updated Successfullly!\");\n      navigate(\"/admin/mera-bazzar/colors\");\n    }\n    if (isError) {\n      toast.error(\"Something Went Wrong!\");\n    }\n  }, [isSuccess, isError, isLoading]);\n\n  const formik = useFormik({\n    enableReinitialize: true,\n    initialValues: {\n      title: colorName || \"\",\n    },\n    validationSchema: schema,\n    onSubmit: (values) => {\n      if (getColorId !== undefined) {\n        const data = { id: getColorId, colorData: values };\n        dispatch(updateAColor(data));\n        dispatch(resetState());\n      } else {\n        dispatch(createColor(values));\n        formik.resetForm();\n        setTimeout(() => {\n          dispatch(resetState());\n        }, 300);\n      }\n    }\n  })\n\n  return (\n    <div class=\"content\">\n        <div class=\"container-fluid\">\n            \n            <Bredcrumb title={`${getColorId !== undefined ? \"Edit\" : \"Add\"} Color`}/>\n\n            <div class=\"row\">\n            <div class=\"col-lg-12\">\n                <div class=\"card\">\n                    <div class=\"card-body\">\n                        <form action=\"\" onSubmit={formik.handleSubmit}>\n                            <div class=\"form-group\">\n                                <label for=\"colorName\">Color Name <span class=\"text-danger\">*</span></label>\n                                <input\n                                    type=\"text\"\n                                    id=\"colorName\"\n                                    name='title'\n                                    class=\"form-control\"\n                                    placeholder=\"Enter Color Name\"\n                                    onChange={formik.handleChange(\"title\")}\n                                    onBlur={formik.handleBlur(\"title\")}\n                                    value={formik.values.title}\n                                />\n                                {formik.touched.title && formik.errors.title ? (\n                                    <small id=\"emailHelp\" class=\"form-text text-danger\">{formik.errors.title}</small>\n                                ): null}\n                            </div>\n                            \n                            <div class=\"col-12 text-center\">\n                                <button type=\"submit\" class=\"btn btn-success waves-effect waves-light m-1\"><i class=\"fe-check-circle mr-1\"></i> {getColorId !== undefined ? \"Edit\" : \"Add\"} Color</button>\n                                <button type=\"button\" class=\"btn btn-light waves-effect waves-light m-1\"><i class=\"fe-x mr-1\"></i> Cancel</button>\n                            </div>\n                        </form>\n\n                    </div>\n                </div>\n            </div>\n            </div>\n            \n        </div> \n    </div>\n  )\n}\n\nexport default AddColor"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}